<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ink & Pen Masters - Art Gallery and Biographies">
    <title>Ink and Pen Masters Archive</title>
    <style>
        /* --- CSS VARIABLES --- */
        :root {
            --bg-color: #ffffff;
            --text-color: #222222;
            --card-bg: #f5f5f5;
            --accent-color: #333333;
            --border-color: #dddddd;
            --sidebar-width: 280px;
            --shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        [data-theme="dark"] {
            --bg-color: #121212;
            --text-color: #e0e0e0;
            --card-bg: #1e1e1e;
            --accent-color: #bb86fc;
            --border-color: #333333;
            --shadow: 0 4px 6px rgba(0,0,0,0.5);
        }

        [data-theme="amoled"] {
            --bg-color: #000000;
            --text-color: #ffffff;
            --card-bg: #000000;
            --accent-color: #ffffff;
            --border-color: #333333;
            --shadow: none;
        }

        /* --- RESET & BASE --- */
        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; -webkit-tap-highlight-color: transparent; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* PREVENTS SCROLLING WHEN MENU IS OPEN */
        body.noscroll { overflow: hidden; }

        /* --- HEADER --- */
        header {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 60px;
            background-color: var(--bg-color);
            border-bottom: 1px solid var(--border-color);
            display: flex; align-items: center; justify-content: center;
            z-index: 1000; 
        }

        h1 { font-size: 1.2rem; font-weight: 700; letter-spacing: 1px; text-transform: uppercase; }

        .menu-btn {
            position: absolute; top: 10px; padding: 10px;
            cursor: pointer; background: none; border: none;
            display: flex; flex-direction: column; gap: 5px;
        }
        .menu-left { left: 10px; }
        .menu-right { right: 10px; }

        .bar { width: 25px; height: 3px; background-color: var(--text-color); border-radius: 2px; transition: 0.3s; }

        /* --- SIDEBAR --- */
        .sidebar {
            position: fixed; top: 0; height: 100%; width: var(--sidebar-width);
            background-color: var(--card-bg);
            border-right: 1px solid var(--border-color);
            transform: translateX(-100%);
            transition: transform 0.3s ease;
            z-index: 999; 
            display: flex; flex-direction: column;
            padding-top: 70px;
            overflow-y: auto; 
        }

        .sidebar.open { transform: translateX(0); }
        
        .sidebar.from-right {
            right: 0; border-right: none; border-left: 1px solid var(--border-color);
            transform: translateX(100%);
        }
        .sidebar.from-right.open { transform: translateX(0); }

        .nav-links { list-style: none; flex-grow: 1; }
        .nav-links li a {
            display: block; padding: 15px 25px;
            text-decoration: none; color: var(--text-color);
            border-bottom: 1px solid var(--border-color);
        }

        .sidebar-footer { padding: 20px; border-top: 1px solid var(--border-color); }

        .settings-trigger {
            width: 100%; padding: 12px;
            background: var(--bg-color); color: var(--text-color);
            border: 1px solid var(--border-color); cursor: pointer; font-weight: bold;
        }

        /* --- OVERLAY --- */
        .overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5); 
            z-index: 998; 
            opacity: 0; visibility: hidden; transition: 0.3s;
        }
        .overlay.active { opacity: 1; visibility: visible; }
        .overlay.modal-mode { z-index: 1500; }

        /* --- MAIN --- */
        main { padding: 80px 20px 40px 20px; max-width: 1200px; margin: 0 auto; }
        .intro { margin-bottom: 20px; text-align: center; }
        .intro p { opacity: 0.8; margin-top: 10px; }

        /* --- SEARCH BAR --- */
        .search-container {
            display: flex; justify-content: center; margin-bottom: 25px;
        }
        
        #searchBar {
            width: 100%; max-width: 400px;
            padding: 12px 20px;
            font-size: 1rem;
            border: 1px solid var(--border-color);
            background-color: var(--card-bg);
            color: var(--text-color);
            border-radius: 25px;
            transition: border-color 0.2s, box-shadow 0.2s;
        }

        #searchBar:focus {
            border-color: var(--accent-color);
            box-shadow: 0 0 0 2px rgba(125,125,125,0.2);
        }

        /* --- FILTER BUTTONS --- */
        .filter-container {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap; 
        }

        .filter-btn {
            padding: 8px 16px;
            background: var(--bg-color);
            color: var(--text-color);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s ease;
        }

        .filter-btn.active {
            background: var(--text-color);
            color: var(--bg-color);
            font-weight: bold;
        }

        /* --- GRID & CARDS (PORTRAIT MODE UPDATE) --- */
        .grid { 
            display: grid; 
            grid-template-columns: 1fr; 
            gap: 30px; 
        }
        
        /* Responsive Columns */
        @media (min-width: 600px) { .grid { grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); } }

        .card {
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px; 
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            display: flex; flex-direction: column;
            height: 100%; /* Ensures all cards in a row are same height */
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
        }

        .card-img {
            width: 100%; 
            /* PORTRAIT MODE: Height set to 400px */
            height: 400px; 
            object-fit: cover; 
            /* Focuses on the top-center by default (good for faces) */
            object-position: center 20%; 
            display: block;
            background-color: #333;
            border-bottom: 1px solid var(--border-color);
        }

        .card-content { 
            padding: 20px; 
            flex-grow: 1; 
            display: flex; flex-direction: column;
        }
        
        .card-title { font-size: 1.2rem; margin-bottom: 5px; }
        .card-subtitle { font-size: 0.85rem; opacity: 0.7; margin-bottom: 15px; display: block; }
        
        .tags { margin-top: auto; } /* Pushes tags to bottom */
        .tags span {
            font-size: 0.75rem; padding: 4px 8px;
            background: var(--bg-color); border: 1px solid var(--border-color);
            border-radius: 4px; margin-right: 5px;
            display: inline-block; margin-bottom: 5px;
        }

        /* --- BACK TO TOP BUTTON --- */
        .back-to-top {
            position: fixed; bottom: 20px; left: 20px;
            width: 45px; height: 45px;
            background: var(--text-color); color: var(--bg-color);
            border-radius: 50%; border: none;
            cursor: pointer; box-shadow: var(--shadow);
            z-index: 900;
            opacity: 0; visibility: hidden; transform: translateY(20px);
            transition: all 0.3s ease;
            display: flex; align-items: center; justify-content: center;
            font-size: 1.5rem; font-weight: bold;
        }
        .back-to-top.visible { opacity: 1; visibility: visible; transform: translateY(0); }

        /* --- MODAL --- */
        .modal {
            position: fixed; top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 90%; max-width: 400px;
            background: var(--card-bg); padding: 25px;
            border-radius: 12px; border: 1px solid var(--border-color);
            z-index: 2000; box-shadow: 0 10px 25px rgba(0,0,0,0.5);
            display: none;
            max-height: 85vh; overflow-y: auto; 
        }
        .modal.active { display: block; }
        .modal h2 { margin-bottom: 20px; font-size: 1.2rem; border-bottom: 1px solid var(--border-color); padding-bottom: 10px;}
        
        .setting-group { margin-bottom: 20px; }
        .setting-group label { display: block; margin-bottom: 8px; font-weight: 600; font-size: 0.9rem; }
        
        .btn-group { display: flex; gap: 10px; }
        .btn-option {
            flex: 1; padding: 10px;
            background: var(--bg-color); color: var(--text-color);
            border: 1px solid var(--border-color); cursor: pointer; border-radius: 4px;
        }
        .btn-option.active { background: var(--text-color); color: var(--bg-color); }

        .close-modal {
            width: 100%; padding: 12px;
            background: transparent; color: var(--text-color);
            border: 1px solid var(--border-color); margin-top: 10px; cursor: pointer;
        }
    </style>
</head>
<body>

    <button id="backToTop" class="back-to-top" aria-label="Back to Top">&uarr;</button>

    <header>
        <button id="hamburger" class="menu-btn menu-left" aria-label="Menu">
            <span class="bar"></span><span class="bar"></span><span class="bar"></span>
        </button>
        <h1> Ink & Pen</h1>
    </header>

    <nav id="sidebar" class="sidebar">
        <ul class="nav-links">
            <li><a href="index.html">Home</a></li>
        </ul>
        <div class="sidebar-footer">
            <button class="settings-trigger" id="openSettings">Settings</button>
        </div>
    </nav>

    <div id="overlay" class="overlay"></div>

    <main>
        <div class="intro">
            <h2>The Art of Ink & Pen</h2>
            <p>Exploring the masters of high contrast, hatching, and line work.</p>
        </div>

        <div class="search-container">
            <input type="text" id="searchBar" placeholder="Search artists or styles..." aria-label="Search Artists">
        </div>

        <div class="filter-container">
            <button class="filter-btn active" onclick="filterMasters('all')">All</button>
            <button class="filter-btn" onclick="filterMasters('old')">Old Masters</button>
            <button class="filter-btn" onclick="filterMasters('new')">New Masters</button>
        </div>

        <div class="grid">
            <article class="card" data-category="old">
                <a href="durer.html" style="text-decoration: none; color: inherit; display: block; height: 100%;">
                    <!-- Example: Custom position added inline style -->
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/dc/Albrecht_D%C3%BCrer_-_1500_self-portrait_%28High_resolution_and_detail%29.jpg/800px-Albrecht_D%C3%BCrer_-_1500_self-portrait_%28High_resolution_and_detail%29.jpg" class="card-img" alt="Albrecht Durer" loading="lazy">
                    <div class="card-content">
                        <h3 class="card-title">Albrecht Dürer</h3>
                        <span class="card-subtitle">Old Master • 1471–1528</span>
                        <p>Renowned for his high-quality woodcut prints. His control over line weight created depth without grayscale.</p>
                        <div class="tags"><span>Woodcut</span><span>Hatching</span></div>
                    </div>
                </a>
            </article>

            <article class="card" data-category="new">
                <img src="https://upload.wikimedia.org/wikipedia/commons/0/01/FranklinBooth.jpg" class="card-img" alt="Franklin Booth Work" loading="lazy">
                <div class="card-content">
                    <h3 class="card-title">Franklin Booth</h3>
                    <span class="card-subtitle">New Master • 1874–1948</span>
                    <p>Imitated the style of wood engravings using pen and ink, creating massive tonal range through line spacing.</p>
                    <div class="tags"><span>Pen</span><span>Tonal Value</span></div>
                </div>
            </article>
            
            <article class="card" data-category="old">
                <a href="leonardo.html" style="text-decoration: none; color: inherit; display: block; height: 100%;">
                    <img src="https://wahooart.com/media/artists/images/full/5e/f3/5ef34a8af4994df0912eb658c8e20d40.jpg" class="card-img" alt="Leonardo da Vinci" loading="lazy">
                    <div class="card-content">
                        <h3 class="card-title">Leonardo da Vinci</h3>
                        <span class="card-subtitle">Old Master • 1452–1519</span>
                        <p>The Renaissance genius whose ink studies of anatomy and nature set the standard for observational drawing.</p>
                        <div class="tags"><span>Anatomy</span><span>Sketch</span></div>
                    </div>
                </a>
            </article>

            <article class="card" data-category="old">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/02/Michelangelo_Daniele_da_Volterra_%28dettaglio%29.jpg/1280px-Michelangelo_Daniele_da_Volterra_%28dettaglio%29.jpg" class="card-img" alt="Michelangelo" loading="lazy">
                <div class="card-content">
                    <h3 class="card-title">Michelangelo Buonarroti</h3>
                    <span class="card-subtitle">Old Master • 1475–1564</span>
                    <p>Known for powerful cross-hatching in his figure studies, emphasizing muscle volume and tension.</p>
                    <div class="tags"><span>Figure</span><span>Cross-hatching</span></div>
                </div>
            </article>

             <article class="card" data-category="old">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f6/Raffaello_Sanzio.jpg/800px-Raffaello_Sanzio.jpg" class="card-img" alt="Raphael" loading="lazy">
                <div class="card-content">
                    <h3 class="card-title">Raffaello Sanzio (Raphael)</h3>
                    <span class="card-subtitle">Old Master • 1483–1520</span>
                    <p>Celebrated for the clarity of form and ease of composition in his pen and ink wash drawings.</p>
                    <div class="tags"><span>Composition</span><span>Wash</span></div>
                </div>
            </article>

            <article class="card" data-category="old">
                <img src="https://upload.wikimedia.org/wikipedia/commons/6/65/Uffizi_Donatello.jpg" class="card-img" alt="Donatello Work" loading="lazy">
                <div class="card-content">
                    <h3 class="card-title">Donato di Niccolò (Donatello)</h3>
                    <span class="card-subtitle">Old Master • 1386–1466</span>
                    <p>Pioneered 'schiacciato' relief, using line depth in sculpture that mirrored pen techniques of the era.</p>
                    <div class="tags"><span>Relief</span><span>Form</span></div>
                </div>
            </article>

            <article class="card" data-category="new">
                <img src="https://upload.wikimedia.org/wikipedia/commons/b/be/Kim_Jung_Gi_2017.png" class="card-img" alt="Kim Jung Gi" loading="lazy" style="object-position: center top;">
                <div class="card-content">
                    <h3 class="card-title">Kim Jung Gi</h3>
                    <span class="card-subtitle">New Master • 1975–2022</span>
                    <p>Legendary for sketching complex scenes directly with ink without under-drawing, mastering perspective.</p>
                    <div class="tags"><span>Brush Pen</span><span>Perspective</span></div>
                </div>
            </article>
            
            <article class="card" data-category="new">
                <img src="https://upload.wikimedia.org/wikipedia/commons/4/44/Bernie_Wrightson.JPG" class="card-img" alt="Bernie Wrightson" loading="lazy">
                <div class="card-content">
                    <h3 class="card-title">Bernie Wrightson</h3>
                    <span class="card-subtitle">New Master • 1948–2017</span>
                    <p>Famous for his intricate horror illustrations, specifically his highly detailed Frankenstein plates.</p>
                    <div class="tags"><span>Horror</span><span>Cross-hatching</span></div>
                </div>
            </article>

            <article class="card" data-category="new">
                <img src="https://upload.wikimedia.org/wikipedia/sr/c/c0/%D0%9A%D0%B5%D0%BD%D1%82%D0%B0%D1%80%D0%BE_%D0%9C%D0%B8%D1%83%D1%80%D0%B0.jpeg" class="card-img" alt="Kentaro Miura" loading="lazy">
                <div class="card-content">
                    <h3 class="card-title">Kentaro Miura</h3>
                    <span class="card-subtitle">New Master • 1966–2021</span>
                    <p>The creator of 'Berserk', known for obsessive detail and massive scale in his pen work.</p>
                    <div class="tags"><span>Manga</span><span>Dark Fantasy</span></div>
                </div>
            </article>

            <article class="card" data-category="new">
                <img src="https://upload.wikimedia.org/wikipedia/en/1/15/Akira_Toriyama_in_1982.jpg" class="card-img" alt="Akira Toriyama" loading="lazy">
                <div class="card-content">
                    <h3 class="card-title">Akira Toriyama</h3>
                    <span class="card-subtitle">New Master • 1955–2024</span>
                    <p>Master of clean lines and distinct character design, influencing generations with Dragon Ball.</p>
                    <div class="tags"><span>Clean Line</span><span>Action</span></div>
                </div>
            </article>

            <article class="card" data-category="new">
                <img src="https://upload.wikimedia.org/wikipedia/commons/c/c0/Takehiko_Inoue_20240312_%28cropped%29.jpg" class="card-img" alt="Takehiko Inoue" loading="lazy">
                <div class="card-content">
                    <h3 class="card-title">Takehiko Inoue</h3>
                    <span class="card-subtitle">New Master • 1967–Present</span>
                    <p>Uses brush pens to create fluid, dynamic movement in masterpieces like 'Vagabond'.</p>
                    <div class="tags"><span>Brush</span><span>Flow</span></div>
                </div>
            </article>

            <article class="card" data-category="new">
                <img src="https://upload.wikimedia.org/wikipedia/commons/5/56/Moebius_Lodz_2008.jpg" class="card-img" alt="Moebius" loading="lazy">
                <div class="card-content">
                    <h3 class="card-title">Moebius (Jean Giraud)</h3>
                    <span class="card-subtitle">New Master • 1938–2012</span>
                    <p>Revolutionized sci-fi art with his "ligne claire" (clear line) style and surreal imagination.</p>
                    <div class="tags"><span>Sci-Fi</span><span>Ligne Claire</span></div>
                </div>
            </article>

            <article class="card" data-category="new">
                <img src="https://upload.wikimedia.org/wikipedia/commons/b/b2/TT061130A_Makoto_Yukimura.jpg" class="card-img" alt="Makoto Yukimura" loading="lazy">
                <div class="card-content">
                    <h3 class="card-title">Makoto Yukimura</h3>
                    <span class="card-subtitle">New Master • 1976–Present</span>
                    <p>Creator of 'Vinland Saga', known for grounding intense action with emotionally detailed line work.</p>
                    <div class="tags"><span>Historical</span><span>Emotion</span></div>
                </div>
            </article>

            <article class="card" data-category="new">
                <img src="https://s4.anilist.co/file/anilistcdn/staff/large/n96888-S7t8RBq40Y70.png" class="card-img" alt="Takeshi Obata" loading="lazy">
                <div class="card-content">
                    <h3 class="card-title">Takeshi Obata</h3>
                    <span class="card-subtitle">New Master • 1969–Present</span>
                    <p>The artist behind 'Death Note', famous for his gothic aesthetic, sharp contrast, and fashion detail.</p>
                    <div class="tags"><span>Gothic</span><span>Contrast</span></div>
                </div>
            </article>

            <article class="card" data-category="new">
                <img src="https://upload.wikimedia.org/wikipedia/en/5/5a/Boku_no_Hero_Academia_Volume_1.png" class="card-img" alt="Kohei Horikoshi" loading="lazy">
                <div class="card-content">
                    <h3 class="card-title">Kohei Horikoshi</h3>
                    <span class="card-subtitle">New Master • 1986–Present</span>
                    <p>Known for 'My Hero Academia', blending American comic dynamics with manga scratch techniques.</p>
                    <div class="tags"><span>Superhero</span><span>Dynamic</span></div>
                </div>
            </article>

            <article class="card" data-category="new">
                <img src="https://upload.wikimedia.org/wikipedia/commons/2/2d/Kazuki_takahashi.jpg" class="card-img" alt="Kazuki Takahashi" loading="lazy">
                <div class="card-content">
                    <h3 class="card-title">Kazuki Takahashi</h3>
                    <span class="card-subtitle">New Master • 1961–2022</span>
                    <p>Creator of 'Yu-Gi-Oh!', known for distinct angular lines and intricate monster designs.</p>
                    <div class="tags"><span>Angular</span><span>Creatures</span></div>
                </div>
            </article>

            <article class="card" data-category="new">
                <img src="https://temp.compsci88.com/cover/normal/01J76XYBHHJAB6AXM3SA8G9AFQ.webp" class="card-img" alt="ONE" loading="lazy">
                <div class="card-content">
                    <h3 class="card-title">ONE</h3>
                    <span class="card-subtitle">New Master • 1986–Present</span>
                    <p>Webcomic author of 'One Punch Man'. Known for raw, unpolished, yet incredibly impactful composition.</p>
                    <div class="tags"><span>Webcomic</span><span>Raw</span></div>
                </div>
            </article>

            <article class="card" data-category="new">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT47c3nDE4bA_Nph7oEiF-0zT7fgqAWaDm08VQJeTcxdEuO1uraBpb8TmbyA4sUnf9BEClyzJDNtxTnw2C7e0QMfEIctijBqO9scOGKEw&s=10" class="card-img" alt="Yusuke Murata" loading="lazy">
                <div class="card-content">
                    <h3 class="card-title">Yusuke Murata</h3>
                    <span class="card-subtitle">New Master • 1978–Present</span>
                    <p>The artist of 'One Punch Man' manga. Renowned for god-tier detail and cinematic action sequencing.</p>
                    <div class="tags"><span>Hyper-detail</span><span>Cinematic</span></div>
                </div>
            </article>
            
            <article class="card" data-category="new">
                <img src="https://upload.wikimedia.org/wikipedia/en/a/a8/The_Sword_of_Shannara.jpg" class="card-img" alt="Brothers Hildebrandt" loading="lazy">
                <div class="card-content">
                    <h3 class="card-title">Brothers Hildebrandt</h3>
                    <span class="card-subtitle">New Master • Greg & Tim</span>
                    <p>Fantasy illustrators known for The Lord of the Rings calendars and the original Star Wars poster.</p>
                    <div class="tags"><span>Fantasy</span><span>Lighting</span></div>
                </div>
            </article>

            <article class="card" data-category="new">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Sal%C3%B3_del_C%C3%B2mic_de_Barcelona_2016_-_Roger_Ib%C3%A1%C3%B1ez_02.jpg/800px-Sal%C3%B2_del_C%C3%B2mic_de_Barcelona_2016_-_Roger_Ib%C3%A1%C3%B1ez_02.jpg" class="card-img" alt="Roger Ibáñez Ugena" loading="lazy">
                <div class="card-content">
                    <h3 class="card-title">Roger Ibáñez Ugena</h3>
                    <span class="card-subtitle">New Master • 1977–Present</span>
                    <p>Spanish comic artist celebrated for 'Jazz Maynard', characterized by sharp ink and noir atmosphere.</p>
                    <div class="tags"><span>Noir</span><span>Dynamic</span></div>
                </div>
            </article>

            <article class="card" data-category="new">
                <img src="https://upload.wikimedia.org/wikipedia/commons/8/85/Gigi_Cavenago_Lucca_2016.jpg" class="card-img" alt="Gigi Cavenago" loading="lazy">
                <div class="card-content">
                    <h3 class="card-title">Gigi Cavenago</h3>
                    <span class="card-subtitle">New Master • 1982–Present</span>
                    <p>Italian artist famous for Dylan Dog, blending traditional inking with digital coloring techniques.</p>
                    <div class="tags"><span>Bonelli</span><span>Fusion</span></div>
                </div>
            </article>

            <article class="card" data-category="new">
                <img src="https://upload.wikimedia.org/wikipedia/en/3/3a/Street_Fighter_Alpha_3_cover_art.jpg" class="card-img" alt="Bengus" loading="lazy">
                <div class="card-content">
                    <h3 class="card-title">Bengus (Satoshi Nichihara)</h3>
                    <span class="card-subtitle">New Master • Capcom Era</span>
                    <p>The definitive style of Street Fighter Alpha/vs. Series. Bold shapes and energetic posing.</p>
                    <div class="tags"><span>Gaming</span><span>Silhouette</span></div>
                </div>
            </article>

            <article class="card" data-category="new">
                <img src="https://upload.wikimedia.org/wikipedia/en/4/44/Metal_Gear_Solid_2_Substance_cover.jpg" class="card-img" alt="Yoji Shinkawa" loading="lazy">
                <div class="card-content">
                    <h3 class="card-title">Yoji Shinkawa</h3>
                    <span class="card-subtitle">New Master • 1971–Present</span>
                    <p>Metal Gear Solid artist known for his calligraphy-inspired brush pen style and messy elegance.</p>
                    <div class="tags"><span>Brush Pen</span><span>Sumi-e</span></div>
                </div>
            </article>

            <article class="card" data-category="new">
                <img src="images/karlaxe.jpg" class="card-img" alt="Karl Kopinski" loading="lazy">
                <div class="card-content">
                    <h3 class="card-title">Karl Kopinski</h3>
                    <span class="card-subtitle">New Master • 1971–Present</span>
                    <p>A master of sketching without hesitation. Known for Warhammer art, cycling, and historical figures.</p>
                    <div class="tags"><span>Sketching</span><span>Texture</span></div>
                </div>
            </article>

            <article class="card" data-category="new">
                <img src="https://upload.wikimedia.org/wikipedia/en/c/c2/Christina%27s_World.jpg" class="card-img" alt="Andrew Wyeth" loading="lazy">
                <div class="card-content">
                    <h3 class="card-title">Andrew Wyeth</h3>
                    <span class="card-subtitle">New Master • 1917–2009</span>
                    <p>Realist painter whose drybrush watercolors utilize ink-like precision and texture.</p>
                    <div class="tags"><span>Realism</span><span>Drybrush</span></div>
                </div>
            </article>

            <article class="card" data-category="new">
                <img src="https://upload.wikimedia.org/wikipedia/commons/e/e2/Katsuya_Terada_at_Lucca_Comics_%26_Games_2012.JPG" class="card-img" alt="Katsuya Terada" loading="lazy">
                <div class="card-content">
                    <h3 class="card-title">Katsuya Terada</h3>
                    <span class="card-subtitle">New Master • 1963–Present</span>
                    <p>The "Rakugaking" (Doodle King). Integrates Moebius-influenced lines with digital painting.</p>
                    <div class="tags"><span>Doodle</span><span>Intricate</span></div>
                </div>
            </article>

        </div>
    </main>

    <div id="settingsModal" class="modal">
        <h2>Appearance</h2>
        <div class="setting-group">
            <label>Theme</label>
            <div class="btn-group">
                <button class="btn-option" onclick="setTheme('light')">Light</button>
                <button class="btn-option" onclick="setTheme('dark')">Dark</button>
                <button class="btn-option" onclick="setTheme('amoled')">AMOLED</button>
            </div>
        </div>
        <div class="setting-group">
            <label>Menu Position</label>
            <div class="btn-group">
                <button class="btn-option" onclick="setMenuPos('left')">Left</button>
                <button class="btn-option" onclick="setMenuPos('right')">Right</button>
            </div>
        </div>
        <button class="close-modal" id="closeSettings">Close</button>
    </div>

    <script>
        // --- ELEMENTS ---
        const els = {
            ham: document.getElementById('hamburger'),
            bar: document.getElementById('sidebar'),
            ovl: document.getElementById('overlay'),
            mod: document.getElementById('settingsModal'),
            bod: document.body,
            search: document.getElementById('searchBar')
        };

        // --- FILTER LOGIC ---
        function filterMasters(category) {
            // Clicking a category clears the search to avoid confusion
            els.search.value = '';

            const cards = document.querySelectorAll('.card');
            const btns = document.querySelectorAll('.filter-btn');

            // 1. Update Buttons Appearance
            btns.forEach(btn => {
                if (btn.getAttribute('onclick').includes(category)) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });

            // 2. Show/Hide Cards
            cards.forEach(card => {
                const cardCat = card.getAttribute('data-category');
                
                if (category === 'all') {
                    card.style.display = 'flex';
                } else if (cardCat === category) {
                    card.style.display = 'flex';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // --- SEARCH LOGIC ---
        els.search.addEventListener('input', (e) => {
            const term = e.target.value.toLowerCase();
            const cards = document.querySelectorAll('.card');
            const btns = document.querySelectorAll('.filter-btn');

            // When searching, visually reset category buttons to 'All'
            btns.forEach(btn => {
                if (btn.getAttribute('onclick').includes("'all'")) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });

            cards.forEach(card => {
                // Search in Title and Tags
                const title = card.querySelector('.card-title').textContent.toLowerCase();
                const tags = card.querySelector('.tags').textContent.toLowerCase();
                
                if (title.includes(term) || tags.includes(term)) {
                    card.style.display = 'flex';
                } else {
                    card.style.display = 'none';
                }
            });
        });

        // --- CORE UI LOGIC ---
        function toggleLock(forceActive) {
            if (forceActive || els.ovl.classList.contains('active')) {
                els.bod.classList.add('noscroll');
            } else {
                els.bod.classList.remove('noscroll');
            }
        }

        function toggleMenu() {
            if (els.mod.classList.contains('active')) return;

            els.bar.classList.toggle('open');
            if (!els.mod.classList.contains('active')) {
                els.ovl.classList.toggle('active');
                els.ovl.classList.remove('modal-mode');
                toggleLock(); 
            }
        }

        document.getElementById('openSettings').addEventListener('click', () => {
            // Explicitly close sidebar visual state before opening modal
            els.bar.classList.remove('open'); 
            
            els.mod.classList.add('active'); 
            els.ovl.classList.add('active'); 
            els.ovl.classList.add('modal-mode'); 
            toggleLock(true); 
        });

        document.getElementById('closeSettings').addEventListener('click', () => {
            closeModal();
        });

        function closeModal() {
            els.mod.classList.remove('active');
            els.ovl.classList.remove('active');
            els.ovl.classList.remove('modal-mode'); 
            toggleLock(false);
        }

        els.ovl.addEventListener('click', () => {
            if (els.mod.classList.contains('active')) {
                closeModal();
            } else {
                els.bar.classList.remove('open');
                els.ovl.classList.remove('active');
                toggleLock(false);
            }
        });

        els.ham.addEventListener('click', toggleMenu);

        // --- PREFERENCES LOGIC ---
        function setTheme(t) {
            document.documentElement.setAttribute('data-theme', t);
            localStorage.setItem('theme', t);
            updateUI();
        }

        function setMenuPos(p) {
            const wasOpen = els.bar.classList.contains('open');

            els.ham.className = `menu-btn menu-${p}`; 
            els.bar.className = `sidebar ${p === 'right' ? 'from-right' : ''}`;
            
            if(wasOpen) els.bar.classList.add('open'); 
            
            localStorage.setItem('menuPos', p);
            updateUI();
        }

        function updateUI() {
            const t = localStorage.getItem('theme') || 'light';
            const p = localStorage.getItem('menuPos') || 'left';
            
            document.querySelectorAll('.btn-option').forEach(btn => {
                const attr = btn.getAttribute('onclick');
                btn.classList.toggle('active', attr.includes(`'${t}'`) || attr.includes(`'${p}'`));
            });
        }

        // --- BACK TO TOP LOGIC ---
        const backBtn = document.getElementById('backToTop');
        
        window.addEventListener('scroll', () => {
            // Show button if scrolled more than 300px
            if (window.scrollY > 300) {
                backBtn.classList.add('visible');
            } else {
                backBtn.classList.remove('visible');
            }
        });

        backBtn.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Init
        setTheme(localStorage.getItem('theme') || 'light');
        setMenuPos(localStorage.getItem('menuPos') || 'left');
    </script>
</body>
</html>